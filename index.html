<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Will you be my Valentine? üíï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ffd1dc 0%, #e6d5f0 50%, #fff9e6 100%);
            overflow-x: hidden;
            position: relative;
        }

        .heart {
            position: absolute;
            font-size: 30px;
            animation: float 6s infinite ease-in-out;
            opacity: 0.6;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(10deg); }
        }

        .container {
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 60px 40px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            position: relative;
            z-index: 10;
        }

        h1 {
            font-size: 3em;
            color: #d4578f;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .buttons-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            justify-content: center;
            align-items: center;
            position: relative;
            height: 300px;
            margin-top: 40px;
            width: 100%;
        }

        button {
            padding: 20px 50px;
            font-size: 1.5em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        #yesButton {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: white;
            animation: grow 3s infinite;
            position: relative;
            z-index: 2;
        }

        @keyframes grow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        #yesButton:hover {
            transform: scale(1.15);
            box-shadow: 0 12px 30px rgba(255, 154, 158, 0.4);
        }

        #noButton {
            background: linear-gradient(135deg, #c9c9ff 0%, #e6d5f0 100%);
            color: #7a5c9e;
            position: absolute;
            transition: all 0.1s ease;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            margin-top: 80px;
            z-index: 1;
        }

        #noButton:hover {
            background: linear-gradient(135deg, #b8b8ff 0%, #d5c5e0 100%);
        }

        .success-message {
            display: none;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        .success-message h2 {
            font-size: 2.5em;
            color: #d4578f;
            margin-bottom: 20px;
        }

        .success-message p {
            font-size: 1.3em;
            color: #7a5c9e;
        }

        .envelope-container {
            margin-top: 40px;
        }

        .envelope-icon {
            font-size: 5em;
            cursor: pointer;
            display: inline-block;
            transition: transform 0.3s ease;
            animation: bounce 2s infinite;
            margin-top: 20px;
        }

        .envelope-icon:hover {
            transform: scale(1.1);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .click-hint {
            font-size: 0.9em;
            color: #999;
            margin-top: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .plea-message {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.1em;
            color: #d4578f;
            font-weight: bold;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            text-align: center;
            z-index: 5;
            width: 90%;
            white-space: nowrap;
        }

        .plea-message.show {
            opacity: 1;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
            20% { opacity: 1; transform: translateX(-50%) translateY(0); }
            80% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
        }

        .message-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            max-width: 400px;
            width: 90%;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .message-popup.show {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            animation: slideFromEnvelope 0.6s ease-out;
        }

        @keyframes slideFromEnvelope {
            0% {
                transform: translate(-50%, 100%) scale(0.3);
                opacity: 0;
            }
            60% {
                transform: translate(-50%, -55%) scale(1.05);
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        .message-popup h3 {
            color: #d4578f;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .message-popup p {
            color: #7a5c9e;
            line-height: 1.6;
            font-size: 1em;
            margin-bottom: 12px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #999;
            padding: 5px;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #d4578f;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        @media (max-width: 768px) {
            h1 { 
                font-size: 1.8em;
                margin-bottom: 30px;
            }
            
            .container {
                padding: 40px 20px;
                max-width: 95%;
            }
            
            button { 
                padding: 15px 40px; 
                font-size: 1.2em; 
            }
            
            .buttons-container {
                height: 250px;
            }
            
            .envelope-icon {
                font-size: 4em;
            }
            
            .message-popup {
                padding: 30px 20px;
                max-width: 90%;
            }
            
            .message-popup h3 {
                font-size: 1.5em;
            }
            
            .message-popup p {
                font-size: 0.95em;
            }
            
            .success-message h2 {
                font-size: 2em;
            }
            
            .success-message p {
                font-size: 1.1em;
            }
            
            .plea-message {
                font-size: 1em;
                top: -40px;
                width: 95%;
            }
            
            #questionSection {
                position: relative;
                padding-top: 50px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating hearts background -->
    <script>
        for (let i = 0; i < 15; i++) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = ['üíï', 'üíñ', 'üíó', 'üíù', 'üíì'][Math.floor(Math.random() * 5)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.top = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 3 + 's';
            document.body.appendChild(heart);
        }
    </script>

    <canvas id="confetti"></canvas>

    <div class="container">
        <div id="questionSection">
            <h1>Baby, will you be my Valentine? üíï</h1>
            <div class="plea-message" id="pleaMessage"></div>
            <div class="buttons-container">
                <button id="yesButton">Yes! üíñ</button>
                <button id="noButton">No</button>
            </div>
        </div>

        <div class="success-message" id="successMessage">
            <h2>Yay! üíïüíïüíï</h2>
            <p>I knew you'd say yes! üíñ</p>
            <p style="margin-top: 20px; font-size: 3em;">üéâ üíù üéä</p>
            
            <div class="envelope-container">
                <p class="click-hint">Click the envelope to read your message! üíå</p>
                <div class="envelope-icon" id="envelopeIcon">üíå</div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    
    <div class="message-popup" id="messagePopup">
        <button class="close-btn" id="closeBtn">‚úï</button>
        <h3>Baby üíï</h3>
        <p>Thank you for saying yes! You just made my day so much brighter! ü•∞</p>
        <p>Let's meet at SM Southmall tomorrow after your school. I'm really looking forward to spending Valentine's Day with you and getting to know you better!</p>
        <p style="font-size: 0.95em;">See you tomorrow! üíñ</p>
        <p style="margin-top: 20px;">Excited to celebrate with you! üíù</p>
    </div>

    <script>
        const noButton = document.getElementById('noButton');
        const yesButton = document.getElementById('yesButton');
        const questionSection = document.getElementById('questionSection');
        const successMessage = document.getElementById('successMessage');
        const canvas = document.getElementById('confetti');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Move "No" button on hover and click
        function moveButton() {
            const container = document.querySelector('.buttons-container');
            const containerRect = container.getBoundingClientRect();
            
            const buttonWidth = noButton.offsetWidth;
            const buttonHeight = noButton.offsetHeight;
            
            // Calculate available space
            const maxX = containerRect.width - buttonWidth;
            const maxY = containerRect.height - buttonHeight;
            
            // Generate random position
            let x = Math.random() * maxX;
            let y = Math.random() * maxY;
            
            // Ensure button doesn't overlap with Yes button (center area)
            const centerX = containerRect.width / 2;
            const centerY = containerRect.height / 2;
            const yesButtonWidth = 200; // approximate width of Yes button
            
            // If too close to center (Yes button), move it away
            if (Math.abs(x - (centerX - buttonWidth/2)) < yesButtonWidth && 
                Math.abs(y - (centerY - buttonHeight/2)) < buttonHeight) {
                // Push to sides
                x = Math.random() > 0.5 ? Math.random() * (maxX * 0.3) : maxX * 0.7 + Math.random() * (maxX * 0.3);
            }
            
            noButton.style.left = `${x}px`;
            noButton.style.top = `${y}px`;
            noButton.style.transform = 'none';
            noButton.style.margin = '0';
            
            // Show random plea message
            showPleaMessage();
        }

        // Plea messages
        const pleaMessages = [
            "Wait, hear me out! ü•∫",
            "Come on, give me a chance!",
            "Just one date? üòä",
            "Don't be like that...",
            "I promise it'll be fun!",
            "Pretty please? üíï",
            "You're making this hard üòÖ",
            "Think about it!",
            "One chance, that's all I ask!"
        ];

        let lastMessageIndex = -1;

        function showPleaMessage() {
            const pleaMessage = document.getElementById('pleaMessage');
            
            // Get a different message than the last one
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * pleaMessages.length);
            } while (randomIndex === lastMessageIndex && pleaMessages.length > 1);
            
            lastMessageIndex = randomIndex;
            
            pleaMessage.textContent = pleaMessages[randomIndex];
            pleaMessage.classList.add('show');
            
            setTimeout(() => {
                pleaMessage.classList.remove('show');
            }, 2000);
        }

        noButton.addEventListener('mouseenter', moveButton);
        noButton.addEventListener('click', moveButton);
        noButton.addEventListener('touchstart', (e) => {
            e.preventDefault();
            moveButton();
        });
        noButton.addEventListener('touchmove', (e) => {
            e.preventDefault();
        });

        // Confetti effect
        function createConfetti() {
            const confettiCount = 150;
            const confetti = [];
            const colors = ['#ff9a9e', '#fecfef', '#c9c9ff', '#e6d5f0', '#ffd1dc'];

            for (let i = 0; i < confettiCount; i++) {
                confetti.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    size: Math.random() * 8 + 4,
                    speedY: Math.random() * 3 + 2,
                    speedX: Math.random() * 2 - 1,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 5 - 2.5
                });
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                confetti.forEach((particle, index) => {
                    particle.y += particle.speedY;
                    particle.x += particle.speedX;
                    particle.rotation += particle.rotationSpeed;

                    ctx.save();
                    ctx.translate(particle.x, particle.y);
                    ctx.rotate(particle.rotation * Math.PI / 180);
                    ctx.fillStyle = particle.color;
                    ctx.fillRect(-particle.size / 2, -particle.size / 2, particle.size, particle.size);
                    ctx.restore();

                    if (particle.y > canvas.height) {
                        confetti.splice(index, 1);
                    }
                });

                if (confetti.length > 0) {
                    requestAnimationFrame(animate);
                }
            }

            animate();
        }

        // Play sound effect
        function playSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 523.25; // C5 note
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);

            // Second note
            setTimeout(() => {
                const osc2 = audioContext.createOscillator();
                const gain2 = audioContext.createGain();
                osc2.connect(gain2);
                gain2.connect(audioContext.destination);
                osc2.frequency.value = 659.25; // E5 note
                osc2.type = 'sine';
                gain2.gain.setValueAtTime(0.3, audioContext.currentTime);
                gain2.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                osc2.start(audioContext.currentTime);
                osc2.stop(audioContext.currentTime + 0.5);
            }, 150);
        }

        // Handle "Yes" button click
        yesButton.addEventListener('click', () => {
            playSound();
            createConfetti();
            questionSection.style.display = 'none';
            successMessage.style.display = 'block';
        });

        // Handle envelope icon click
        const envelopeIcon = document.getElementById('envelopeIcon');
        const messagePopup = document.getElementById('messagePopup');
        const overlay = document.getElementById('overlay');
        const closeBtn = document.getElementById('closeBtn');

        envelopeIcon.addEventListener('click', () => {
            messagePopup.classList.add('show');
            overlay.classList.add('show');
            playSound();
        });

        closeBtn.addEventListener('click', () => {
            messagePopup.classList.remove('show');
            overlay.classList.remove('show');
        });

        overlay.addEventListener('click', () => {
            messagePopup.classList.remove('show');
            overlay.classList.remove('show');
        });
    </script>
</body>
</html>
